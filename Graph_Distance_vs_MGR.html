<head><meta charset="utf-8" /><script src="https://cdn.plot.ly/plotly-1.34.0.min.js"></script></head><div id="2848c51f-92bd-4f00-bf1e-740a38e01849" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("2848c51f-92bd-4f00-bf1e-740a38e01849", [{"customdata": ["cbdDist"], "hoverinfo": "all", "ids": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161], "line": {"dash": "solid", "width": 1}, "marker": {"color": "rgb(142, 186, 217)", "colorbar": {"len": 0.8}, "colorscale": "Greys", "line": {"color": "rgb(31, 119, 180)", "width": 1}, "reversescale": false, "showscale": false, "size": 10, "symbol": 0}, "mode": "markers", "name": "cbdDist - HD02_VD01", "opacity": 1.0, "text": [], "x": [1484809.5054219484, 1484809.5340157007, 1484809.379526558, 1484809.4576091727, 1484809.4841133237, 1484809.544655751, 1484809.5367236112, 1484809.5933650876, 1484809.6502695067, 1484809.784873252, 1484809.5844431242, 1484809.5134308604, 1484809.521734477, 1484809.483056147, 1484809.3256672663, 1484809.599470915, 1484809.559913667, 1484809.6088400176, 1484809.397604272, 1484809.4156998834, 1484809.4549499233, 1484809.5194997573, 1484809.546686589, 1484809.5614076061, 1484809.6125348483, 1484809.6295422013, 1484809.5228101977, 1484809.387216627, 1484809.5371790587, 1484809.541136982, 1484809.5285406355, 1484809.3626345599, 1484809.519820406, 1484809.640716714, 1484809.6295464945, 1484809.555514368, 1484809.352135489, 1484809.532717379, 1484809.3515557363, 1484809.6613078408, 1484809.7019511543, 1484809.6760680135, 1484809.668433945, 1484809.8127331925, 1484809.6123690624, 1484809.5870229963, 1484809.6811306956, 1484809.3816460327, 1484809.4157980517, 1484809.5624842597, 1484809.5622826188, 1484809.4264763272, 1484809.4567737249, 1484809.4823789434, 1484809.5136120585, 1484809.5268474983, 1484809.5709596172, 1484809.5659129585, 1484809.442221541, 1484809.3739852852, 1484809.4022960067, 1484809.3368941976, 1484809.4166327778, 1484809.4069168814, 1484809.5949597596, 1484809.515592762, 1484809.4556789286, 1484809.3427732058, 1484809.5719609018, 1484809.591398148, 1484809.5844961652, 1484809.6097961073, 1484809.627163845, 1484809.6069212554, 1484809.6224976887, 1484809.4652752772, 1484809.5248188258, 1484809.502867519, 1484809.5108280778, 1484809.5101799539, 1484809.4923557164, 1484809.4920002662, 1484809.5187477411, 1484809.5352518188, 1484809.5686136691, 1484809.5510291737, 1484809.5521638799, 1484809.5337603728, 1484809.580736249, 1484809.5677465324, 1484809.386803386, 1484809.4065479198, 1484809.4202250661, 1484809.3410322564, 1484809.5732602577, 1484809.5946574614, 1484809.7581615327, 1484809.656448982, 1484809.617875478, 1484809.4163044125, 1484809.3230341468, 1484809.577708579, 1484809.6179120094, 1484809.6712306577, 1484809.6351079263, 1484809.607154415, 1484809.384391117, 1484809.3604755898, 1484809.3900303761, 1484809.4082639578, 1484809.4285919257, 1484809.4294420553, 1484809.4217592615, 1484809.4696069437, 1484809.4659015825, 1484809.4752390794, 1484809.4797695684, 1484809.5359213848, 1484809.571883558, 1484809.599222748, 1484809.5408858715, 1484809.4967790693, 1484809.3661699763, 1484809.5787472022, 1484809.4786922897, 1484809.5112148996, 1484809.5526052008, 1484809.5514606603, 1484809.3701528895, 1484809.5941328001, 1484809.6614447637, 1484809.612019313, 1484809.7109571833, 1484809.6058203867, 1484809.472461467, 1484809.4200907424, 1484809.4620434765, 1484809.7407338016, 1484809.541557779, 1484809.5387729304, 1484809.488325578, 1484809.6130400132, 1484809.480416096, 1484809.3626657573, 1484809.6913390781, 1484809.5702710066, 1484809.4509205753, 1484809.4053119216, 1484809.5016522694, 1484809.4973449516, 1484809.4082979364, 1484809.4445851364, 1484809.5817937832, 1484809.586763971, 1484809.4413652404, 1484809.5111206388, 1484809.5520673285, 1484809.6984671382, 1484809.7667372029], "y": [656900, 588700, 751800, 201900, 226500, 267400, 909700, 349600, 554200, 81400, 391600, 405300, 662000, 367600, 114200, 461300, 606300, 196800, 877900, 114700, 244700, 973000, 337200, 69900, 376100, 180200, 583700, 1371600, 254600, 370200, 334100, 655100, 921100, 510900, 596700, 307100, 457700, 439000, 921600, 414400, 76700, 84700, 810200, 83500, 102600, 400700, 1049600, 294000, 218700, 612300, 629000, 445300, 179800, 214600, 248600, 136800, 533700, 699100, 1792200, 1836200, 192500, 405300, 643000, 912600, 873100, 252400, 956700, 43100, 540800, 168700, 538000, 176600, 283000, 266600, 392500, 677600, 239900, 517500, 428400, 413600, 533600, 233200, 280000, 331600, 170100, 308100, 303600, 524000, 995800, 298800, 918900, 823400, 1483100, 228800, 173600, 187800, 60400, 155600, 151100, 532800, 448200, 376500, 653500, 407600, 252400, 190600, 1615400, 88500, 421200, 288500, 284000, 338400, 619400, 480400, 256900, 163600, 405100, 578100, 651300, 572400, 1434100, 817900, 268500, 928400, 133300, 950800, 122000, 237000, 753300, 610600, 1874800, 761500, 67700, 640800, 536700, 248600, 414700, 34500, 584500, 613200, 696200, 331400, 1946800, 255100, 1767500, 120000, 308400, 381400, 273600, 773100, 178700, 414700, 745200, 544300, 435700, 277600, 277200, 559200, 45100], "type": "scatter", "uid": "894ff076-dff2-11e9-9d3c-e4b97af76b0d"}], {"legend": {"orientation": "v"}, "showlegend": true, "title": "Distance vs Median Gross Rent", "xaxis": {"autorange": true, "rangeslider": {"borderwidth": 1, "visible": false}, "title": "Distance", "type": "linear"}, "yaxis": {"autorange": true, "title": "Median Gross Rent", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('2848c51f-92bd-4f00-bf1e-740a38e01849')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>